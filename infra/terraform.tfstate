{
  "version": 4,
  "terraform_version": "1.14.0",
  "serial": 440,
  "lineage": "5029241a-b296-8363-9273-a3fd4ebdcdd4",
  "outputs": {},
  "resources": [
    {
      "mode": "managed",
      "type": "docker_container",
      "name": "consul",
      "provider": "provider[\"registry.terraform.io/kreuzwerker/docker\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "attach": false,
            "bridge": "",
            "capabilities": [],
            "cgroup_parent": null,
            "cgroupns_mode": null,
            "command": [
              "agent",
              "-dev",
              "-client=0.0.0.0"
            ],
            "container_logs": null,
            "container_read_refresh_timeout_milliseconds": 15000,
            "cpu_period": null,
            "cpu_quota": null,
            "cpu_set": "",
            "cpu_shares": 0,
            "cpus": null,
            "destroy_grace_seconds": null,
            "devices": [],
            "dns": null,
            "dns_opts": null,
            "dns_search": null,
            "domainname": "",
            "entrypoint": [
              "docker-entrypoint.sh"
            ],
            "env": [],
            "exit_code": null,
            "gpus": null,
            "group_add": null,
            "healthcheck": null,
            "host": [],
            "hostname": "DESKTOP-ET8QFN2",
            "id": "bb28859d0e94506f51b2bb6d9199f9cbd8c6defc8f08100a65d3627d9e943324",
            "image": "hashicorp/consul:1.21",
            "init": false,
            "ipc_mode": "private",
            "labels": [],
            "log_driver": "json-file",
            "log_opts": null,
            "logs": false,
            "max_retry_count": 0,
            "memory": 0,
            "memory_swap": 0,
            "mounts": [],
            "must_run": true,
            "name": "consul",
            "network_data": [
              {
                "gateway": "",
                "global_ipv6_address": "",
                "global_ipv6_prefix_length": 0,
                "ip_address": "",
                "ip_prefix_length": 0,
                "ipv6_gateway": "",
                "mac_address": "",
                "network_name": "host"
              }
            ],
            "network_mode": "host",
            "networks_advanced": [],
            "pid_mode": "",
            "ports": [],
            "privileged": false,
            "publish_all_ports": false,
            "read_only": false,
            "remove_volumes": true,
            "restart": "unless-stopped",
            "rm": false,
            "runtime": "runc",
            "security_opts": [],
            "shm_size": 64,
            "start": true,
            "stdin_open": false,
            "stop_signal": "",
            "stop_timeout": 0,
            "storage_opts": null,
            "sysctls": null,
            "tmpfs": null,
            "tty": false,
            "ulimit": [],
            "upload": [],
            "user": "",
            "userns_mode": "",
            "volumes": [],
            "wait": false,
            "wait_timeout": 60,
            "working_dir": "/"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "docker_image.consul"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "docker_image",
      "name": "consul",
      "provider": "provider[\"registry.terraform.io/kreuzwerker/docker\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "build": [],
            "force_remove": null,
            "id": "sha256:6126c30072690cb3173a450ff5bde120c3a01e11c9dccab83b1b2314d4c828bdhashicorp/consul:1.21",
            "image_id": "sha256:6126c30072690cb3173a450ff5bde120c3a01e11c9dccab83b1b2314d4c828bd",
            "keep_locally": null,
            "name": "hashicorp/consul:1.21",
            "platform": null,
            "pull_triggers": null,
            "repo_digest": "hashicorp/consul@sha256:6126c30072690cb3173a450ff5bde120c3a01e11c9dccab83b1b2314d4c828bd",
            "timeouts": null,
            "triggers": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19"
        }
      ]
    },
    {
      "mode": "managed",
      "type": "nomad_job",
      "name": "angular_template",
      "provider": "provider[\"registry.terraform.io/hashicorp/nomad\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allocation_ids": [],
            "datacenters": [
              "dc1"
            ],
            "deployment_id": null,
            "deployment_status": null,
            "deregister_on_destroy": true,
            "deregister_on_id_change": true,
            "detach": true,
            "hcl2": [],
            "id": "angular-template",
            "jobspec": "job \"angular-template\" {\r\n  datacenters = [\"dc1\"]\r\n  type        = \"service\"\r\n\r\n  group \"frontend\" {\r\n    count = 1\r\n\r\n    network {\r\n      mode = \"host\"\r\n\r\n      port \"http\" {\r\n        static = 4200\r\n      }\r\n    }\r\n\r\n    task \"angular\" {\r\n      driver = \"docker\"\r\n\r\n      config {\r\n        image        = \"ghcr.io/radovan85/radar-patrol/angular-template:main\"\r\n        ports        = [\"http\"]\r\n        network_mode = \"host\"\r\n      }\r\n\r\n      resources {\r\n        cpu    = 500\r\n        memory = 512\r\n      }\r\n      \r\n      lifecycle {\r\n        hook    = \"prestart\"\r\n        sidecar = false\r\n      }\r\n\r\n      restart {\r\n        attempts = 10\r\n        interval = \"5m\"\r\n        delay    = \"15s\"\r\n        mode     = \"delay\"\r\n      }\r\n\r\n      service {\r\n        name     = \"angular-template\"\r\n        port     = \"http\"\r\n        tags     = [\"frontend\", \"angular\", \"nginx\"]\r\n        provider = \"nomad\"\r\n\r\n        check {\r\n          name          = \"angular-health\"\r\n          type          = \"http\"\r\n          path          = \"/\"\r\n          interval      = \"10s\"\r\n          timeout       = \"2s\"\r\n          address_mode  = \"host\"\r\n        }\r\n      }\r\n\r\n      \r\n    }\r\n  }\r\n}",
            "json": null,
            "modify_index": "2870",
            "name": "angular-template",
            "namespace": "default",
            "policy_override": null,
            "purge_on_destroy": null,
            "read_allocation_ids": false,
            "region": "global",
            "rerun_if_dead": false,
            "status": "pending",
            "task_groups": [
              {
                "count": 1,
                "meta": {},
                "name": "frontend",
                "task": [
                  {
                    "driver": "docker",
                    "meta": {},
                    "name": "angular",
                    "volume_mounts": null
                  }
                ],
                "volumes": null
              }
            ],
            "timeouts": null,
            "type": "service"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsInVwZGF0ZSI6MzAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "nomad_job.api_gateway",
            "nomad_job.auth_service",
            "nomad_job.eureka_server",
            "nomad_job.mariadb",
            "nomad_job.nats_server",
            "null_resource.api_gateway_ready",
            "null_resource.auth_service_ready",
            "null_resource.eureka_ready",
            "null_resource.mariadb_ready",
            "null_resource.nats_ready"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "nomad_job",
      "name": "api_gateway",
      "provider": "provider[\"registry.terraform.io/hashicorp/nomad\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allocation_ids": [],
            "datacenters": [
              "dc1"
            ],
            "deployment_id": null,
            "deployment_status": null,
            "deregister_on_destroy": true,
            "deregister_on_id_change": true,
            "detach": true,
            "hcl2": [],
            "id": "api-gateway",
            "jobspec": "job \"api-gateway\" {\r\n  datacenters = [\"dc1\"]\r\n  type        = \"service\"\r\n\r\n  group \"gateway\" {\r\n    count = 1\r\n\r\n    # Koristimo host mreÅ¾u da izbegnemo CNI/iptables komplikacije u WSL-u\r\n    network {\r\n      mode = \"host\"\r\n      port \"http\" {\r\n        static = 8080\r\n      }\r\n    }\r\n\r\n    task \"gateway\" {\r\n      driver = \"docker\"\r\n\r\n      config {\r\n        image        = \"ghcr.io/radovan85/radar-patrol/api-gateway:main\"\r\n        ports        = [\"http\"]\r\n        network_mode = \"host\"  # Mora da se poklapa sa group.network.mode\r\n      }\r\n\r\n      resources {\r\n        cpu    = 500\r\n        memory = 512\r\n      }\r\n\r\n      service {\r\n        name     = \"api-gateway\"\r\n        port     = \"http\"\r\n        tags     = [\"gateway\", \"edge\", \"routing\"]\r\n        provider = \"nomad\"\r\n\r\n        check {\r\n          name     = \"gateway-health\"\r\n          type     = \"http\"\r\n          path     = \"/api/health\"\r\n          interval = \"10s\"\r\n          timeout  = \"2s\"\r\n          method   = \"GET\"\r\n        }\r\n      }\r\n\r\n      env {\r\n        JAVA_OPTS         = \"-Xms128m -Xmx256m\"\r\n        GATEWAY_HOSTNAME  = \"localhost\"  # PoÅ¡to koristi host mreÅ¾u\r\n        EUREKA_SERVER_URL = \"http://localhost:8761/eureka\"  # Direktan pristup Eureki\r\n        SCALATRA_PORT = \"8080\"\r\n      }\r\n      \r\n      lifecycle {\r\n        hook    = \"prestart\"\r\n        sidecar = false\r\n      }\r\n\r\n      restart {\r\n        attempts = 10\r\n        interval = \"5m\"\r\n        delay    = \"15s\"\r\n        mode     = \"delay\"\r\n      }\r\n    }\r\n  }\r\n}",
            "json": null,
            "modify_index": "2816",
            "name": "api-gateway",
            "namespace": "default",
            "policy_override": null,
            "purge_on_destroy": null,
            "read_allocation_ids": false,
            "region": "global",
            "rerun_if_dead": false,
            "status": "pending",
            "task_groups": [
              {
                "count": 1,
                "meta": {},
                "name": "gateway",
                "task": [
                  {
                    "driver": "docker",
                    "meta": {},
                    "name": "gateway",
                    "volume_mounts": null
                  }
                ],
                "volumes": null
              }
            ],
            "timeouts": null,
            "type": "service"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsInVwZGF0ZSI6MzAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "nomad_job.eureka_server",
            "null_resource.eureka_ready"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "nomad_job",
      "name": "auth_service",
      "provider": "provider[\"registry.terraform.io/hashicorp/nomad\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allocation_ids": [],
            "datacenters": [
              "dc1"
            ],
            "deployment_id": null,
            "deployment_status": null,
            "deregister_on_destroy": true,
            "deregister_on_id_change": true,
            "detach": true,
            "hcl2": [],
            "id": "auth-service",
            "jobspec": "job \"auth-service\" {\r\n  datacenters = [\"dc1\"]\r\n  type        = \"service\"\r\n\r\n  group \"auth\" {\r\n    count = 1\r\n\r\n    network {\r\n      mode = \"host\"\r\n\r\n      port \"http\" {\r\n        static = 8081\r\n      }\r\n    }\r\n\r\n    task \"auth\" {\r\n      driver = \"docker\"\r\n\r\n      config {\r\n        image        = \"ghcr.io/radovan85/radar-patrol/auth-service:main\"\r\n        ports        = [\"http\"]\r\n        network_mode = \"host\"\r\n      }\r\n\r\n      env {\r\n        DB_URL      = \"jdbc:mariadb://localhost:3307/radar-db\"\r\n        DB_USERNAME = \"root\"\r\n        DB_PASSWORD = \"1111\"\r\n        SPRING_PORT = \"8081\"\r\n\r\n        # JWT Configuration\r\n        JWT_EXPIRATION = \"15000\"\r\n        JWT_PRIVATE_KEY = \u003c\u003cEOF\r\n-----BEGIN PRIVATE KEY-----\r\nMIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQD3mSA2p3UhKz62QqYRtO8SMqGPwpCEG+MdX+874jJ6BFY408aXab5nrMl3Zn76DpWBLl+fZezlGgvM84B2b7qgdPt1N53TrUn7dFH49jCOqdorTIDrR9eJmTE+T4K/g5/SxXe4/CZpFCuo1fHA6wuQBTJcATb07j5c0C6MRFJTYhBIJVUZHqseOUeWx9WsSdTNqgyQQ97xhL8n1uwT++KUIzt4uWa9UmEj1rCGEj83BR0sD5BQbPdYWF9aSEza54VhegHcOdMdd4EOGStXTPOuXRVEC0C6cucpvFl79LbwSROJqIb+IUBBnsSvM2iPrLtU9Bvf3AO7KJJfFn2fLbmZAgMBAAECggEADUUMRk2XgBN1oRZFmPuX2AN1Z/NjJCdr9sQwWcbj0mkG13UXJsCEs0D+C6uHON7c+Z9LAeuYJIeus/llbEOM7qJSYzv7tg9qoILBjWyhWdYF0q3/F00CgtX+XwLrJJk48LaDVftSki1h8SKlOiQGur1ij26Du+EEX9xK8FrNiDklXhibNl0WWeqexeppWRJ2/ZNdwzW10fBSykSxo0i+UCbwsKFmN3wgSIReOPSuz2A2l0F9M+LjXDHFOv2U4X5ruCaGSf8leSqeP/NPS9fg1Ad2eZn83vJpYM6zZqo/5XOka82fMzJJtrChv50XMIAtoRsuBHDSCqrW6LCMfubNYQKBgQD+b4JzsNscCuRFDXmYTQKDL2raCCLI1C8vGDJFDWkaHcCe5RY5r+G4+++V2c+HnuWduxn861JC3VNPEyGpwjS7lXUv6UWsAC6PuwxECXFOLz4WdkGMJQuYFJBPz5fz7TlQvjCMJEp3VdfpfAAseWfRepblrLSmdk81dy6yvN2CuQKBgQD5HtqY0NwOL9wNYm9txzn57N0rZtTyUS56x/PirLbx+mhFkJ2C3XA8h87/iTgHey+ZSAKdufRJIgbPJ3ympOX5fGkT+z/F+Nzu12DQFD0ZglffbmSf8+foyBJuSGYDgn+adPNrdm8DFcBtuhFP2bYV5oNuVLFYqOuBeVB81jX94QKBgASroVZkUbFTFduaorfD+h7UWP7FlXXgRzlzFUElPN+o2idQhzbp3pfZsA0tIV0Y8pgRnimBXFIz49qYvE50bSlgVfVaL9g3bKNgyJnbHoRT46zf4NYku/C/t+JvKhflK98qjpOT+vXz0nHLv+kRFXHH8Usn/2zq0QtnM6k+REapAoGAVMNtx49RQLaCHj+/AFBIZsR0YJ8ll6mNshM05Yy01tLIBdt17KAh30aqZQIwgUMl5/a7hSVPfE7KmFOsMxtqcKAnNLhJc7gAnHfGJiasv3A9K/Xo4Q/hebARrVqO82TEvC5M4OS0Uw1kozErUMsYDI2ZbMH+cddQAobfnwpX5qECgYB7ysKfBaLs3MwTPJkIravNkQgYtxiewxJamxit0I2oA0HDWhBtZto2Ym4NXO3VJcTWFuLmB642AjnbUnrLwWKXlE2IaPMHGsTeXYIgPCSjyI/k/0CSwROBUwpturSqyibeI4BelklAeQ5MP6R8Ia28F39QHb5FsJ3iaoDt7hfB9w==\r\n-----END PRIVATE KEY-----\r\nEOF\r\n\r\n        JWT_PUBLIC_KEY = \u003c\u003cEOF\r\n-----BEGIN PUBLIC KEY-----\r\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA95kgNqd1ISs+tkKmEbTvEjKhj8KQhBvjHV/vO+IyegRWONPGl2m+Z6zJd2Z++g6VgS5fn2Xs5RoLzPOAdm+6oHT7dTed061J+3RR+PYwjqnaK0yA60fXiZkxPk+Cv4Of0sV3uPwmaRQrqNXxwOsLkAUyXAE29O4+XNAujERSU2IQSCVVGR6rHjlHlsfVrEnUzaoMkEPe8YS/J9bsE/vilCM7eLlmvVJhI9awhhI/NwUdLA+QUGz3WFhfWkhM2ueFYXoB3DnTHXeBDhkrV0zzrl0VRAtAunLnKbxZe/S28EkTiaiG/iFAQZ7ErzNoj6y7VPQb39wDuyiSXxZ9ny25mQIDAQAB\r\n-----END PUBLIC KEY-----\r\nEOF\r\n      }\r\n\r\n      resources {\r\n        cpu    = 500\r\n        memory = 512\r\n      }\r\n\r\n      lifecycle {\r\n        hook    = \"prestart\"\r\n        sidecar = false\r\n      }\r\n\r\n      restart {\r\n        attempts = 10\r\n        interval = \"5m\"\r\n        delay    = \"15s\"\r\n        mode     = \"delay\"\r\n      }\r\n\r\n      service {\r\n        name     = \"auth-service\"\r\n        port     = \"http\"\r\n        tags     = [\"auth\", \"security\", \"metrics\"]\r\n        provider = \"nomad\"\r\n\r\n        check {\r\n          name     = \"auth-health\"\r\n          type     = \"http\"\r\n          path     = \"/api/health\"\r\n          interval = \"10s\"\r\n          timeout  = \"2s\"\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n",
            "json": null,
            "modify_index": "2855",
            "name": "auth-service",
            "namespace": "default",
            "policy_override": null,
            "purge_on_destroy": null,
            "read_allocation_ids": false,
            "region": "global",
            "rerun_if_dead": false,
            "status": "pending",
            "task_groups": [
              {
                "count": 1,
                "meta": {},
                "name": "auth",
                "task": [
                  {
                    "driver": "docker",
                    "meta": {},
                    "name": "auth",
                    "volume_mounts": null
                  }
                ],
                "volumes": null
              }
            ],
            "timeouts": null,
            "type": "service"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsInVwZGF0ZSI6MzAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "nomad_job.eureka_server",
            "nomad_job.mariadb",
            "nomad_job.nats_server",
            "null_resource.eureka_ready",
            "null_resource.mariadb_ready",
            "null_resource.nats_ready"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "nomad_job",
      "name": "eureka_server",
      "provider": "provider[\"registry.terraform.io/hashicorp/nomad\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allocation_ids": [],
            "datacenters": [
              "dc1"
            ],
            "deployment_id": null,
            "deployment_status": null,
            "deregister_on_destroy": true,
            "deregister_on_id_change": true,
            "detach": true,
            "hcl2": [],
            "id": "eureka-server",
            "jobspec": "job \"eureka-server\" {\r\n  datacenters = [\"dc1\"]\r\n  type        = \"service\"\r\n\r\n  group \"eureka\" {\r\n    count = 1\r\n\r\n    # Koristimo host mreÅ¾u da izbegnemo CNI/iptables komplikacije u WSL-u\r\n    network {\r\n      mode = \"host\"\r\n      port \"http\" {\r\n        static = 8761\r\n      }\r\n    }\r\n\r\n    update {\r\n      stagger      = \"30s\"\r\n      max_parallel = 1\r\n    }\r\n\r\n    task \"eureka\" {\r\n      driver = \"docker\"\r\n\r\n      config {\r\n        image        = \"ghcr.io/radovan85/radar-patrol/eureka-server:main\"\r\n        ports        = [\"http\"]\r\n        network_mode = \"host\"  # Mora da se poklapa sa group.network.mode\r\n      }\r\n\r\n      env {\r\n        JAVA_OPTS                             = \"-Xms128m -Xmx256m\"\r\n        SERVER_PORT                           = \"8761\"\r\n        EUREKA_CLIENT_REGISTER_WITH_EUREKA    = \"false\"  # Standalone reÅ¾im\r\n        EUREKA_CLIENT_FETCH_REGISTRY          = \"false\"\r\n        EUREKA_INSTANCE_HOSTNAME              = \"eureka-server\"\r\n        EUREKA_INSTANCE_PREFER_IP_ADDRESS     = \"false\"\r\n      }\r\n\r\n      resources {\r\n        cpu    = 500\r\n        memory = 512\r\n      }\r\n\r\n      lifecycle {\r\n        hook    = \"prestart\"\r\n        sidecar = false\r\n      }\r\n\r\n      restart {\r\n        attempts = 10\r\n        interval = \"5m\"\r\n        delay    = \"15s\"\r\n        mode     = \"delay\"\r\n      }\r\n\r\n      service {\r\n        name     = \"eureka-server\"\r\n        port     = \"http\"\r\n        tags     = [\"eureka\", \"discovery\"]\r\n        provider = \"nomad\"\r\n\r\n        check {\r\n          name     = \"eureka-health\"\r\n          type     = \"http\"\r\n          path     = \"/actuator/health\"\r\n          interval = \"10s\"\r\n          timeout  = \"2s\"\r\n          method   = \"GET\"\r\n        }\r\n      }\r\n    }\r\n  }\r\n}",
            "json": null,
            "modify_index": "2806",
            "name": "eureka-server",
            "namespace": "default",
            "policy_override": null,
            "purge_on_destroy": null,
            "read_allocation_ids": false,
            "region": "global",
            "rerun_if_dead": false,
            "status": "pending",
            "task_groups": [
              {
                "count": 1,
                "meta": {},
                "name": "eureka",
                "task": [
                  {
                    "driver": "docker",
                    "meta": {},
                    "name": "eureka",
                    "volume_mounts": null
                  }
                ],
                "volumes": null
              }
            ],
            "timeouts": null,
            "type": "service"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsInVwZGF0ZSI6MzAwMDAwMDAwMDAwfX0="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "nomad_job",
      "name": "grafana",
      "provider": "provider[\"registry.terraform.io/hashicorp/nomad\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allocation_ids": [],
            "datacenters": [
              "dc1"
            ],
            "deployment_id": null,
            "deployment_status": null,
            "deregister_on_destroy": true,
            "deregister_on_id_change": true,
            "detach": true,
            "hcl2": [],
            "id": "grafana",
            "jobspec": "job \"grafana\" {\r\n  datacenters = [\"dc1\"]\r\n  type        = \"service\"\r\n\r\n  group \"grafana\" {\r\n    count = 1\r\n\r\n    # ðŸ›œ Host networking: izlaÅ¾emo Grafanu direktno na hostu\r\n    network {\r\n      mode = \"host\"\r\n      port \"ui\" {\r\n        static = 3002  # Promenjeno sa 3000 na 3002\r\n      }\r\n    }\r\n\r\n    volume \"grafana-data\" {\r\n      type      = \"host\"\r\n      source    = \"grafana-data\"\r\n      read_only = false\r\n    }\r\n\r\n    task \"grafana\" {\r\n      driver = \"docker\"\r\n\r\n      config {\r\n        image        = \"grafana/grafana:10.2.3\"\r\n        ports        = [\"ui\"]\r\n        network_mode = \"host\"\r\n      }\r\n\r\n      env {\r\n        GF_SECURITY_ADMIN_USER     = \"admin\"\r\n        GF_SECURITY_ADMIN_PASSWORD = \"grafana123\"\r\n        GF_SERVER_HTTP_PORT        = \"3002\"  # Obavezno za promenu porta\r\n      }\r\n\r\n      lifecycle {\r\n        hook    = \"prestart\"\r\n        sidecar = false\r\n      }\r\n\r\n      restart {\r\n        attempts = 10\r\n        interval = \"5m\"\r\n        delay    = \"15s\"\r\n        mode     = \"delay\"\r\n      }\r\n\r\n      volume_mount {\r\n        volume      = \"grafana-data\"\r\n        destination = \"/var/lib/grafana\"\r\n      }\r\n\r\n      resources {\r\n        cpu    = 700\r\n        memory = 768\r\n      }\r\n\r\n      service {\r\n        name     = \"grafana\"\r\n        port     = \"ui\"\r\n        tags     = [\"dashboard\", \"metrics\"]\r\n        provider = \"nomad\"\r\n\r\n        check {\r\n          name          = \"grafana-health\"\r\n          type          = \"http\"\r\n          path          = \"/\"\r\n          interval      = \"10s\"\r\n          timeout       = \"2s\"\r\n          address_mode  = \"host\"\r\n        }\r\n      }\r\n    }\r\n  }\r\n}",
            "json": null,
            "modify_index": "2824",
            "name": "grafana",
            "namespace": "default",
            "policy_override": null,
            "purge_on_destroy": null,
            "read_allocation_ids": false,
            "region": "global",
            "rerun_if_dead": false,
            "status": "pending",
            "task_groups": [
              {
                "count": 1,
                "meta": {},
                "name": "grafana",
                "task": [
                  {
                    "driver": "docker",
                    "meta": {},
                    "name": "grafana",
                    "volume_mounts": [
                      {
                        "destination": "/var/lib/grafana",
                        "read_only": false,
                        "volume": "grafana-data"
                      }
                    ]
                  }
                ],
                "volumes": [
                  {
                    "name": "grafana-data",
                    "read_only": false,
                    "source": "grafana-data",
                    "type": "host"
                  }
                ]
              }
            ],
            "timeouts": null,
            "type": "service"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsInVwZGF0ZSI6MzAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "nomad_job.api_gateway",
            "nomad_job.eureka_server",
            "null_resource.api_gateway_ready",
            "null_resource.eureka_ready"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "nomad_job",
      "name": "infraction_service",
      "provider": "provider[\"registry.terraform.io/hashicorp/nomad\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allocation_ids": [],
            "datacenters": [
              "dc1"
            ],
            "deployment_id": null,
            "deployment_status": null,
            "deregister_on_destroy": true,
            "deregister_on_id_change": true,
            "detach": true,
            "hcl2": [],
            "id": "infraction-service",
            "jobspec": "job \"infraction-service\" {\r\n  datacenters = [\"dc1\"]\r\n  type        = \"service\"\r\n\r\n  group \"infraction\" {\r\n    count = 1\r\n\r\n    network {\r\n      mode = \"host\"\r\n      port \"http\" {\r\n        static = 9001\r\n      }\r\n    }\r\n\r\n    task \"infraction\" {\r\n      driver = \"docker\"\r\n\r\n      config {\r\n        image        = \"ghcr.io/radovan85/radar-patrol/infraction-service:main\"\r\n        ports        = [\"http\"]\r\n        network_mode = \"host\"\r\n      }\r\n\r\n      env {\r\n        DB_URL      = \"jdbc:mariadb://localhost:3307/radar-db\"\r\n        DB_USERNAME = \"root\"\r\n        DB_PASSWORD = \"1111\"\r\n        PLAY_PORT = \"9001\"\r\n        PLAY_SECRET = \"wn^AL?B_@ue@tUbrBIpsHFqi]1WQtkL\u003cDDVdumZEtbH?]@ICQzIaNg8u0r8?Ctcz\"\r\n      }\r\n      \r\n      lifecycle {\r\n        hook    = \"prestart\"\r\n        sidecar = false\r\n      }\r\n\r\n      restart {\r\n        attempts = 10\r\n        interval = \"5m\"\r\n        delay    = \"15s\"\r\n        mode     = \"delay\"\r\n      }\r\n\r\n      resources {\r\n        cpu    = 700\r\n        memory = 768\r\n      }\r\n\r\n      service {\r\n        name     = \"infraction-service\"\r\n        port     = \"http\"\r\n        tags     = [\"infraction\", \"play\", \"metrics\"]\r\n        provider = \"nomad\"\r\n\r\n        check {\r\n          name     = \"infraction-health\"\r\n          type     = \"http\"\r\n          path     = \"/api/health\"\r\n          interval = \"10s\"\r\n          timeout  = \"2s\"\r\n        }\r\n      }\r\n    }\r\n  }\r\n}",
            "json": null,
            "modify_index": "2869",
            "name": "infraction-service",
            "namespace": "default",
            "policy_override": null,
            "purge_on_destroy": null,
            "read_allocation_ids": false,
            "region": "global",
            "rerun_if_dead": false,
            "status": "pending",
            "task_groups": [
              {
                "count": 1,
                "meta": {},
                "name": "infraction",
                "task": [
                  {
                    "driver": "docker",
                    "meta": {},
                    "name": "infraction",
                    "volume_mounts": null
                  }
                ],
                "volumes": null
              }
            ],
            "timeouts": null,
            "type": "service"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsInVwZGF0ZSI6MzAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "nomad_job.auth_service",
            "nomad_job.eureka_server",
            "nomad_job.mariadb",
            "nomad_job.nats_server",
            "null_resource.auth_service_ready",
            "null_resource.eureka_ready",
            "null_resource.mariadb_ready",
            "null_resource.nats_ready"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "nomad_job",
      "name": "mariadb",
      "provider": "provider[\"registry.terraform.io/hashicorp/nomad\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allocation_ids": [],
            "datacenters": [
              "dc1"
            ],
            "deployment_id": null,
            "deployment_status": null,
            "deregister_on_destroy": true,
            "deregister_on_id_change": true,
            "detach": true,
            "hcl2": [],
            "id": "mariadb-service",
            "jobspec": "job \"mariadb-service\" {\r\n  datacenters = [\"dc1\"]\r\n  type        = \"service\"\r\n\r\n  group \"db\" {\r\n    count = 1\r\n\r\n    # ðŸ›œ Host networking: izbegavamo CNI/iptables komplikacije u WSL-u\r\n    network {\r\n      mode = \"host\"\r\n      port \"db\" {\r\n        static = 3307  # MariaDB port\r\n      }\r\n    }\r\n\r\n    volume \"mariadata\" {\r\n      type      = \"host\"\r\n      source    = \"mariadata\"\r\n      read_only = false\r\n    }\r\n\r\n    task \"mariadb-service\" {\r\n      driver = \"docker\"\r\n\r\n      config {\r\n        image        = \"mariadb:11\"\r\n        ports        = [\"db\"]\r\n        network_mode = \"host\"\r\n        args = [\"--bind-address=0.0.0.0\", \"--port=3307\"]\r\n      }\r\n\r\n      env {\r\n        MARIADB_DATABASE      = \"radar-db\"\r\n        MARIADB_USER          = \"root\"\r\n        MARIADB_PASSWORD      = \"1111\"\r\n        MARIADB_ROOT_PASSWORD = \"1111\"\r\n      }\r\n\r\n      lifecycle {\r\n        hook    = \"prestart\"\r\n        sidecar = false\r\n      }\r\n\r\n      restart {\r\n        attempts = 10\r\n        interval = \"5m\"\r\n        delay    = \"15s\"\r\n        mode     = \"delay\"\r\n      }\r\n\r\n      volume_mount {\r\n        volume      = \"mariadata\"\r\n        destination = \"/var/lib/mysql\"\r\n      }\r\n\r\n      resources {\r\n        cpu    = 700\r\n        memory = 768\r\n      }\r\n\r\n      service {\r\n        name     = \"mariadb-service\"\r\n        port     = \"db\"\r\n        tags     = [\"sql\", \"database\", \"mariadb\"]\r\n        provider = \"nomad\"\r\n\r\n        check {\r\n          name     = \"mariadb-tcp\"\r\n          type     = \"tcp\"\r\n          interval = \"10s\"\r\n          timeout  = \"2s\"\r\n        }\r\n      }\r\n    }\r\n  }\r\n}",
            "json": null,
            "modify_index": "2807",
            "name": "mariadb-service",
            "namespace": "default",
            "policy_override": null,
            "purge_on_destroy": null,
            "read_allocation_ids": false,
            "region": "global",
            "rerun_if_dead": false,
            "status": "pending",
            "task_groups": [
              {
                "count": 1,
                "meta": {},
                "name": "db",
                "task": [
                  {
                    "driver": "docker",
                    "meta": {},
                    "name": "mariadb-service",
                    "volume_mounts": [
                      {
                        "destination": "/var/lib/mysql",
                        "read_only": false,
                        "volume": "mariadata"
                      }
                    ]
                  }
                ],
                "volumes": [
                  {
                    "name": "mariadata",
                    "read_only": false,
                    "source": "mariadata",
                    "type": "host"
                  }
                ]
              }
            ],
            "timeouts": null,
            "type": "service"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsInVwZGF0ZSI6MzAwMDAwMDAwMDAwfX0="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "nomad_job",
      "name": "nats_server",
      "provider": "provider[\"registry.terraform.io/hashicorp/nomad\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allocation_ids": [],
            "datacenters": [
              "dc1"
            ],
            "deployment_id": null,
            "deployment_status": null,
            "deregister_on_destroy": true,
            "deregister_on_id_change": true,
            "detach": true,
            "hcl2": [],
            "id": "nats-server",
            "jobspec": "job \"nats-server\" {\r\n  datacenters = [\"dc1\"]\r\n  type        = \"service\"\r\n\r\n  group \"nats\" {\r\n    count = 1\r\n\r\n    network {\r\n      mode = \"host\"\r\n      port \"client\" {\r\n        static = 4222\r\n      }\r\n      port \"monitor\" {\r\n        static = 8222\r\n      }\r\n    }\r\n\r\n    task \"nats\" {\r\n      driver = \"docker\"\r\n\r\n      config {\r\n        image        = \"nats:2.10.11\"\r\n        ports        = [\"client\", \"monitor\"]\r\n        network_mode = \"host\"\r\n        args         = [\r\n          \"--name\", \"nats-server\",\r\n          \"--http_port\", \"8222\",\r\n          \"--log\", \"debug\"\r\n        ]\r\n      }\r\n\r\n      resources {\r\n        cpu    = 500\r\n        memory = 512\r\n      }\r\n      \r\n      lifecycle {\r\n        hook    = \"prestart\"\r\n        sidecar = false\r\n      }\r\n\r\n      restart {\r\n        attempts = 10\r\n        interval = \"5m\"\r\n        delay    = \"15s\"\r\n        mode     = \"delay\"\r\n      }\r\n\r\n      service {\r\n        name     = \"nats-server\"\r\n        port     = \"client\"\r\n        tags     = [\"messaging\", \"pubsub\"]\r\n        provider = \"nomad\"\r\n\r\n        check {\r\n          name     = \"nats-client-port\"\r\n          type     = \"tcp\"\r\n          interval = \"10s\"\r\n          timeout  = \"2s\"\r\n        }\r\n      }\r\n\r\n      service {\r\n        name     = \"nats-monitor\"\r\n        port     = \"monitor\"\r\n        tags     = [\"monitoring\", \"nats\"]\r\n        provider = \"nomad\"\r\n\r\n        check {\r\n          name     = \"nats-monitor-http\"\r\n          type     = \"http\"\r\n          path     = \"/\"\r\n          interval = \"10s\"\r\n          timeout  = \"2s\"\r\n        }\r\n      }\r\n    }\r\n  }\r\n}",
            "json": null,
            "modify_index": "2805",
            "name": "nats-server",
            "namespace": "default",
            "policy_override": null,
            "purge_on_destroy": null,
            "read_allocation_ids": false,
            "region": "global",
            "rerun_if_dead": false,
            "status": "pending",
            "task_groups": [
              {
                "count": 1,
                "meta": {},
                "name": "nats",
                "task": [
                  {
                    "driver": "docker",
                    "meta": {},
                    "name": "nats",
                    "volume_mounts": null
                  }
                ],
                "volumes": null
              }
            ],
            "timeouts": null,
            "type": "service"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsInVwZGF0ZSI6MzAwMDAwMDAwMDAwfX0="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "nomad_job",
      "name": "prometheus",
      "provider": "provider[\"registry.terraform.io/hashicorp/nomad\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allocation_ids": [],
            "datacenters": [
              "dc1"
            ],
            "deployment_id": null,
            "deployment_status": null,
            "deregister_on_destroy": true,
            "deregister_on_id_change": true,
            "detach": true,
            "hcl2": [],
            "id": "prometheus",
            "jobspec": "job \"prometheus\" {\r\n  datacenters = [\"dc1\"]\r\n  type        = \"service\"\r\n\r\n  group \"prometheus\" {\r\n    count = 1\r\n\r\n    network {\r\n      mode = \"host\"\r\n      port \"web\" {\r\n        static = 9090\r\n      }\r\n    }\r\n\r\n    volume \"prometheus-config\" {\r\n      type      = \"host\"\r\n      source    = \"prometheus-config\"\r\n      read_only = true\r\n    }\r\n\r\n    task \"prometheus\" {\r\n      driver = \"docker\"\r\n\r\n      config {\r\n        image        = \"prom/prometheus:latest\"\r\n        ports        = [\"web\"]\r\n        network_mode = \"host\"\r\n        args = [\r\n          \"--config.file=/etc/prometheus/prometheus.yml\",\r\n          \"--web.listen-address=0.0.0.0:9090\"\r\n        ]\r\n      }\r\n\r\n      volume_mount {\r\n        volume      = \"prometheus-config\"\r\n        destination = \"/etc/prometheus\"\r\n      }\r\n\r\n      resources {\r\n        cpu    = 700\r\n        memory = 768\r\n      }\r\n      \r\n      lifecycle {\r\n        hook    = \"prestart\"\r\n        sidecar = false\r\n      }\r\n\r\n      restart {\r\n        attempts = 10\r\n        interval = \"5m\"\r\n        delay    = \"15s\"\r\n        mode     = \"delay\"\r\n      }\r\n\r\n      service {\r\n        name     = \"prometheus\"\r\n        port     = \"web\"\r\n        tags     = [\"metrics\", \"scraper\"]\r\n        provider = \"nomad\"\r\n\r\n        check {\r\n          name     = \"prometheus-health\"\r\n          type     = \"http\"\r\n          path     = \"/graph\"\r\n          interval = \"10s\"\r\n          timeout  = \"2s\"\r\n        }\r\n      }\r\n    }\r\n  }\r\n}",
            "json": null,
            "modify_index": "2825",
            "name": "prometheus",
            "namespace": "default",
            "policy_override": null,
            "purge_on_destroy": null,
            "read_allocation_ids": false,
            "region": "global",
            "rerun_if_dead": false,
            "status": "pending",
            "task_groups": [
              {
                "count": 1,
                "meta": {},
                "name": "prometheus",
                "task": [
                  {
                    "driver": "docker",
                    "meta": {},
                    "name": "prometheus",
                    "volume_mounts": [
                      {
                        "destination": "/etc/prometheus",
                        "read_only": false,
                        "volume": "prometheus-config"
                      }
                    ]
                  }
                ],
                "volumes": [
                  {
                    "name": "prometheus-config",
                    "read_only": true,
                    "source": "prometheus-config",
                    "type": "host"
                  }
                ]
              }
            ],
            "timeouts": null,
            "type": "service"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsInVwZGF0ZSI6MzAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "nomad_job.api_gateway",
            "nomad_job.eureka_server",
            "null_resource.api_gateway_ready",
            "null_resource.eureka_ready"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "nomad_job",
      "name": "radar_service",
      "provider": "provider[\"registry.terraform.io/hashicorp/nomad\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allocation_ids": [],
            "datacenters": [
              "dc1"
            ],
            "deployment_id": null,
            "deployment_status": null,
            "deregister_on_destroy": true,
            "deregister_on_id_change": true,
            "detach": true,
            "hcl2": [],
            "id": "radar-service",
            "jobspec": "job \"radar-service\" {\r\n  datacenters = [\"dc1\"]\r\n  type        = \"service\"\r\n\r\n  group \"radar\" {\r\n    count = 1\r\n\r\n    network {\r\n      mode = \"host\"\r\n      port \"http\" {\r\n        static = 8082\r\n      }\r\n    }\r\n\r\n    task \"radar\" {\r\n      driver = \"docker\"\r\n\r\n      config {\r\n        image        = \"ghcr.io/radovan85/radar-patrol/radar-service:main\"\r\n        ports        = [\"http\"]\r\n        network_mode = \"host\"\r\n      }\r\n\r\n      env {\r\n        DB_URL      = \"jdbc:mariadb://localhost:3307/radar-db\"\r\n        DB_USERNAME = \"root\"\r\n        DB_PASSWORD = \"1111\"\r\n        SPRING_PORT = \"8082\"\r\n      }\r\n      \r\n      lifecycle {\r\n        hook    = \"prestart\"\r\n        sidecar = false\r\n      }\r\n\r\n      restart {\r\n        attempts = 10\r\n        interval = \"5m\"\r\n        delay    = \"15s\"\r\n        mode     = \"delay\"\r\n      }\r\n\r\n      resources {\r\n        cpu    = 500\r\n        memory = 512\r\n      }\r\n\r\n      service {\r\n        name     = \"RADAR-service\"\r\n        port     = \"http\"\r\n        tags     = [\"RADAR\", \"play\", \"metrics\"]\r\n        provider = \"nomad\"\r\n\r\n        check {\r\n          name     = \"RADAR-health\"\r\n          type     = \"http\"\r\n          path     = \"/api/health\"\r\n          interval = \"10s\"\r\n          timeout  = \"2s\"\r\n        }\r\n      }\r\n    }\r\n  }\r\n}",
            "json": null,
            "modify_index": "2912",
            "name": "radar-service",
            "namespace": "default",
            "policy_override": null,
            "purge_on_destroy": null,
            "read_allocation_ids": false,
            "region": "global",
            "rerun_if_dead": false,
            "status": "pending",
            "task_groups": [
              {
                "count": 1,
                "meta": {},
                "name": "radar",
                "task": [
                  {
                    "driver": "docker",
                    "meta": {},
                    "name": "radar",
                    "volume_mounts": null
                  }
                ],
                "volumes": null
              }
            ],
            "timeouts": null,
            "type": "service"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsInVwZGF0ZSI6MzAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "nomad_job.auth_service",
            "nomad_job.eureka_server",
            "nomad_job.infraction_service",
            "nomad_job.mariadb",
            "nomad_job.nats_server",
            "nomad_job.registration_service",
            "null_resource.auth_service_ready",
            "null_resource.eureka_ready",
            "null_resource.infraction_service_ready",
            "null_resource.mariadb_ready",
            "null_resource.nats_ready",
            "null_resource.registration_service_ready"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "nomad_job",
      "name": "registration_service",
      "provider": "provider[\"registry.terraform.io/hashicorp/nomad\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allocation_ids": [],
            "datacenters": [
              "dc1"
            ],
            "deployment_id": null,
            "deployment_status": null,
            "deregister_on_destroy": true,
            "deregister_on_id_change": true,
            "detach": true,
            "hcl2": [],
            "id": "registration-service",
            "jobspec": "job \"registration-service\" {\r\n  datacenters = [\"dc1\"]\r\n  type        = \"service\"\r\n\r\n  group \"registration\" {\r\n    count = 1\r\n\r\n    network {\r\n      mode = \"host\"\r\n      port \"http\" {\r\n        static = 9002\r\n      }\r\n    }\r\n\r\n    task \"registration\" {\r\n      driver = \"docker\"\r\n\r\n      config {\r\n        image        = \"ghcr.io/radovan85/radar-patrol/registration-service:main\"\r\n        ports        = [\"http\"]\r\n        network_mode = \"host\"\r\n      }\r\n\r\n      env {\r\n        DB_URL      = \"jdbc:mariadb://localhost:3307/radar-db\"\r\n        DB_USERNAME = \"root\"\r\n        DB_PASSWORD = \"1111\"\r\n        PLAY_PORT = \"9002\"\r\n        PLAY_SECRET = \";\u003cq6UYBa=:8IOG`Y^BZfpxlGodEK1yNi^LyH]8limaDllfP1nDXjG59@F_;d?m?`\"\r\n      }\r\n      \r\n      lifecycle {\r\n        hook    = \"prestart\"\r\n        sidecar = false\r\n      }\r\n\r\n      restart {\r\n        attempts = 10\r\n        interval = \"5m\"\r\n        delay    = \"15s\"\r\n        mode     = \"delay\"\r\n      }\r\n\r\n      resources {\r\n        cpu    = 700\r\n        memory = 768\r\n      }\r\n\r\n      service {\r\n        name     = \"registration-service\"\r\n        port     = \"http\"\r\n        tags     = [\"registration\", \"play\", \"metrics\"]\r\n        provider = \"nomad\"\r\n\r\n        check {\r\n          name     = \"registration-health\"\r\n          type     = \"http\"\r\n          path     = \"/api/health\"\r\n          interval = \"10s\"\r\n          timeout  = \"2s\"\r\n        }\r\n      }\r\n    }\r\n  }\r\n}",
            "json": null,
            "modify_index": "2871",
            "name": "registration-service",
            "namespace": "default",
            "policy_override": null,
            "purge_on_destroy": null,
            "read_allocation_ids": false,
            "region": "global",
            "rerun_if_dead": false,
            "status": "pending",
            "task_groups": [
              {
                "count": 1,
                "meta": {},
                "name": "registration",
                "task": [
                  {
                    "driver": "docker",
                    "meta": {},
                    "name": "registration",
                    "volume_mounts": null
                  }
                ],
                "volumes": null
              }
            ],
            "timeouts": null,
            "type": "service"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsInVwZGF0ZSI6MzAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "nomad_job.auth_service",
            "nomad_job.eureka_server",
            "nomad_job.mariadb",
            "nomad_job.nats_server",
            "null_resource.auth_service_ready",
            "null_resource.eureka_ready",
            "null_resource.mariadb_ready",
            "null_resource.nats_ready"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "null_resource",
      "name": "api_gateway_ready",
      "provider": "provider[\"registry.terraform.io/hashicorp/null\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "1125764896651842855",
            "triggers": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "nomad_job.api_gateway",
            "nomad_job.eureka_server",
            "null_resource.eureka_ready"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "null_resource",
      "name": "auth_service_ready",
      "provider": "provider[\"registry.terraform.io/hashicorp/null\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "8692367226403607987",
            "triggers": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "nomad_job.auth_service",
            "nomad_job.eureka_server",
            "nomad_job.mariadb",
            "nomad_job.nats_server",
            "null_resource.eureka_ready",
            "null_resource.mariadb_ready",
            "null_resource.nats_ready"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "null_resource",
      "name": "eureka_ready",
      "provider": "provider[\"registry.terraform.io/hashicorp/null\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "2169949799272400596",
            "triggers": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "nomad_job.eureka_server"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "null_resource",
      "name": "infraction_service_ready",
      "provider": "provider[\"registry.terraform.io/hashicorp/null\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "4303928644748768567",
            "triggers": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "nomad_job.auth_service",
            "nomad_job.eureka_server",
            "nomad_job.infraction_service",
            "nomad_job.mariadb",
            "nomad_job.nats_server",
            "null_resource.auth_service_ready",
            "null_resource.eureka_ready",
            "null_resource.mariadb_ready",
            "null_resource.nats_ready"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "null_resource",
      "name": "mariadb_ready",
      "provider": "provider[\"registry.terraform.io/hashicorp/null\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "6707255467785749671",
            "triggers": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "nomad_job.mariadb"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "null_resource",
      "name": "nats_ready",
      "provider": "provider[\"registry.terraform.io/hashicorp/null\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "8069077590530751285",
            "triggers": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "nomad_job.nats_server"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "null_resource",
      "name": "registration_service_ready",
      "provider": "provider[\"registry.terraform.io/hashicorp/null\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "722384106765361250",
            "triggers": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "nomad_job.auth_service",
            "nomad_job.eureka_server",
            "nomad_job.mariadb",
            "nomad_job.nats_server",
            "nomad_job.registration_service",
            "null_resource.auth_service_ready",
            "null_resource.eureka_ready",
            "null_resource.mariadb_ready",
            "null_resource.nats_ready"
          ]
        }
      ]
    }
  ],
  "check_results": null
}
